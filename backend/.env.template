# ===========================================
# AI Istanbul Backend - Environment Variables
# ===========================================

# Environment Configuration
ENVIRONMENT=development  # development, production, serverless
PORT=8000
API_HOST=0.0.0.0

# ===========================================
# GCP Cloud SQL / Local PostgreSQL Database
# ===========================================
# Production: GCP Cloud SQL (private IP 172.29.160.2)
# Development: Local PostgreSQL (localhost:5432)
DATABASE_URL=postgresql://postgres:your-password@localhost:5432/ai_istanbul
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ai_istanbul
DB_USER=postgres
DB_PASSWORD=your-secure-password

# Development: Local SQLite (comment out DATABASE_URL above)
# DATABASE_URL=sqlite:///./app.db

# ===========================================
# AWS Credentials (DynamoDB, S3)
# ===========================================
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-central-1

# DynamoDB Tables
AWS_DYNAMODB_SESSION_TABLE=ai_istanbul_sessions
AWS_DYNAMODB_CACHE_TABLE=ai_istanbul_cache
AWS_DYNAMODB_ANALYTICS_TABLE=ai_istanbul_analytics

# S3 Buckets
AWS_S3_UPLOADS_BUCKET=ai-istanbul-uploads-prod
AWS_S3_BACKUPS_BUCKET=ai-istanbul-backups-prod
AWS_S3_ASSETS_BUCKET=ai-istanbul-assets-prod

# S3 Blog Images Configuration
# Main bucket for all blog media (featured images, content images, thumbnails)
AWS_S3_BUCKET=ai-istanbul-media
# Blog image paths within the bucket (auto-configured, no need to change)
# - blog/featured-images/ - Featured/hero images for blog posts
# - blog/content-images/  - Images within blog post content
# - blog/thumbnails/      - Auto-generated thumbnails

# ===========================================
# RunPod GPU / LLM Configuration
# ===========================================
# RunPod vLLM Configuration (Port 8000)
RUNPOD_API_KEY=your_runpod_api_key_here
RUNPOD_ENDPOINT_ID=your_endpoint_id
RUNPOD_POD_ID=your_pod_id
LLM_API_URL=https://oge3mpj2wjlj2z-8000.proxy.runpod.net  # RunPod vLLM Server (Llama 3.1 8B 4-bit)
OPENAI_API_BASE=https://oge3mpj2wjlj2z-8000.proxy.runpod.net/v1  # OpenAI-compatible endpoint
LLM_MODEL=llama-3.1-8b-awq
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.7
USE_RUNPOD_LLM=true
FALLBACK_TO_OPENAI=true
LLM_MODEL_NAME=mistralai/Mistral-7B-Instruct-v0.2
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000
LLM_TIMEOUT=30

# Alternative: OpenAI API
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4

# ===========================================
# CORS Configuration
# ===========================================
# Production frontends
CORS_ORIGINS=https://aistanbul.net,https://www.aistanbul.net,https://ai-stanbul.vercel.app,http://localhost:3000,http://localhost:5173

# ===========================================
# Security
# ===========================================
SECRET_KEY=your-secret-key-min-32-chars-for-jwt-tokens
JWT_SECRET=your-jwt-secret-key-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440  # 24 hours

# ===========================================
# API Keys (External Services)
# ===========================================
# Google Maps API (optional)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# OpenWeather API (optional)
OPENWEATHER_API_KEY=your-openweather-api-key

# ===========================================
# Logging & Monitoring
# ===========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_STRUCTURED_LOGGING=true
SENTRY_DSN=  # Optional: Sentry error tracking

# ===========================================
# Feature Flags
# ===========================================
ENABLE_ANALYTICS=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_AWS_SERVICES=true  # Enable DynamoDB and S3

# ===========================================
# Cloud Run Specific (Google Cloud)
# ===========================================
IS_CLOUD_RUN=false  # Set to true when deploying to Cloud Run
CLOUD_RUN_SERVICE_NAME=ai-istanbul-backend

# ===========================================
# Redis (Optional - if using instead of DynamoDB for caching)
# ===========================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ===========================================
# Performance & Optimization
# ===========================================
MAX_WORKERS=4
REQUEST_TIMEOUT=300
MAX_UPLOAD_SIZE_MB=10

# ===========================================
# Development & Testing
# ===========================================
DEBUG=false
RELOAD=false  # Auto-reload on code changes
TESTING=false
