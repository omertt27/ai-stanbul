INFO:     Will watch for changes in these directories: ['/Users/omer/Desktop/ai-stanbul/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [58887] using StatReload
2025-12-09 18:10:21,955 - database - INFO - âœ… Using centralized database configuration
2025-12-09 18:10:21,955 - config.database_config - INFO - ============================================================
2025-12-09 18:10:21,955 - config.database_config - INFO - DATABASE CONFIGURATION
2025-12-09 18:10:21,955 - config.database_config - INFO - ============================================================
2025-12-09 18:10:21,955 - config.database_config - INFO - Database Type: POSTGRESQL
2025-12-09 18:10:21,955 - config.database_config - INFO - Host: localhost
2025-12-09 18:10:21,955 - config.database_config - INFO - Port: 5432
2025-12-09 18:10:21,955 - config.database_config - INFO - Database: istanbul_ai
2025-12-09 18:10:21,955 - config.database_config - INFO - Username: omer
2025-12-09 18:10:21,955 - config.database_config - INFO - Render PostgreSQL: No
2025-12-09 18:10:21,955 - config.database_config - INFO - SSL Enabled: No
2025-12-09 18:10:21,955 - config.database_config - INFO - ============================================================
2025-12-09 18:10:22,207 - database - INFO - ï¿½ PostgreSQL engine created with connection pooling
2025-12-09 18:10:22,762 - api.admin.routes - INFO - âœ… Admin routes initialized
2025-12-09 18:10:24,833 - ttl_fine_tuning - INFO - ğŸ”§ TTL Optimizer initialized with dynamic fine-tuning
2025-12-09 18:10:24,833 - google_api_integration - INFO - âœ… TTL fine-tuning system loaded
2025-12-09 18:10:24,837 - google_api_integration - INFO - âœ… Time-aware cache Redis connected
2025-12-09 18:10:24,839 - google_api_integration - INFO - âœ… Time-aware cache Redis connected
2025-12-09 18:10:24,843 - google_api_integration - INFO - âœ… Time-aware cache Redis connected
2025-12-09 18:10:24,844 - google_api_integration - INFO - âœ… Time-aware cache Redis connected
2025-12-09 18:10:24,846 - integrated_cache_system - INFO - âœ… Production cache monitor Redis connected
2025-12-09 18:10:24,846 - integrated_cache_system - INFO - ğŸ”„ Production cache monitoring started
2025-12-09 18:10:24,847 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:10:24,847 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:10:24,847 - integrated_cache_system - INFO - ğŸ”¥ Cache warming service started
2025-12-09 18:10:24,847 - integrated_cache_system - INFO - ğŸš€ Integrated Cache System initialized successfully
2025-12-09 18:10:24,856 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: best restaurants in Sultanahmet...
2025-12-09 18:10:24,856 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: best restaurants in Sultanahme... (0ms)
2025-12-09 18:10:24,857 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: seafood restaurants near Bosphorus...
2025-12-09 18:10:24,857 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: seafood restaurants near Bosph... (0ms)
2025-12-09 18:10:24,857 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 18:10:24,858 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: rooftop restaurants with view...
2025-12-09 18:10:24,858 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: rooftop restaurants with view... (1ms)
2025-12-09 18:10:24,862 - google_api_integration - INFO - âœ… Time-aware cache HIT for opening_hours: romantic dinner places Istanbul...
2025-12-09 18:10:24,862 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: romantic dinner places Istanbu... (1ms)
2025-12-09 18:10:24,862 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 18:10:24,862 - google_api_integration - INFO - ğŸ¯ Intent: dining_decision, Fields: 5, Cost savings: 86.9%
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-12-09 18:10:25,688 - api_clients.google_analytics_api - WARNING - Google Analytics Data API not available. Install with: pip install google-analytics-data
2025-12-09 18:10:25,690 - api_clients.enhanced_google_places - INFO - Google Places API: Ready for live data integration!
2025-12-09 18:10:26,174 - routes.blog - INFO - Blog router initialized successfully
2025-12-09 18:10:26,174 - core.middleware - INFO - âœ… CORS middleware configured
2025-12-09 18:10:26,174 - core.middleware - INFO - âœ… Middleware configured
2025-12-09 18:10:26,175 - main_modular - INFO - âœ… Static files mounted at /static -> /Users/omer/Desktop/ai-stanbul/backend/static
2025-12-09 18:10:26,185 - main_modular - INFO - ğŸ“‹ Admin routes router has 10 routes
2025-12-09 18:10:26,187 - main_modular - INFO - âœ… Admin routes registered at /api/admin
2025-12-09 18:10:26,190 - main_modular - INFO - âœ… Blog API registered at /api/blog
2025-12-09 18:10:26,191 - main_modular - INFO - âœ… Cache monitoring routes registered at /api/cache
2025-12-09 18:10:26,193 - main_modular - INFO - âœ… Intent feedback routes registered at /api/feedback
2025-12-09 18:10:26,197 - main_modular - INFO - âœ… Legacy routes registered
INFO:     Started server process [58932]
INFO:     Waiting for application startup.
2025-12-09 18:10:26,198 - core.startup - INFO - ğŸš€ Starting AI Istanbul Backend
2025-12-09 18:10:26,198 - core.startup - INFO - ============================================================
2025-12-09 18:10:26,198 - core.startup - INFO - ğŸ”„ Initializing Redis Cache...
2025-12-09 18:10:26,198 - services.redis_cache - INFO - âœ… Redis cache connected: localhost:6379
2025-12-09 18:10:26,199 - services.redis_cache - INFO - âœ… Redis cache connected
2025-12-09 18:10:26,199 - core.startup - INFO - âœ… Redis cache initialized successfully
2025-12-09 18:10:26,199 - core.startup - INFO - ğŸ”§ Initializing Service Manager...
2025-12-09 18:10:26,201 - services.service_manager - INFO - ğŸ”§ Initializing Service Manager...
2025-12-09 18:10:26,201 - services.service_manager - INFO - ğŸ“¦ Loading Istanbul AI services...
2025-12-09 18:10:26,204 - google_api_integration - INFO - ğŸ’¾ Cached result (live_pricing, TTL: 240s): cheap eats in Kadikoy...
2025-12-09 18:10:26,205 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: cheap eats in Kadikoy... (1343ms)
2025-12-09 18:10:26,207 - services.service_manager - INFO - âœ… Restaurant service loaded
2025-12-09 18:10:26,208 - google_api_integration - INFO - âœ… Time-aware cache HIT for restaurant_basic_info: fine dining Istanbul...
2025-12-09 18:10:26,208 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: fine dining Istanbul... (0ms)
2025-12-09 18:10:26,213 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: halal restaurants near Hagia Sophia...
2025-12-09 18:10:26,213 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: halal restaurants near Hagia S... (0ms)
2025-12-09 18:10:26,216 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: best kebab places in Istanbul...
2025-12-09 18:10:26,216 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: best kebab places in Istanbul... (3ms)
2025-12-09 18:10:26,217 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 18:10:26,218 - services.transportation_directions_service - INFO - âœ… Backend OSRM routing service imported successfully
2025-12-09 18:10:26,223 - services.transportation_directions_service - INFO - âœ… Graph-based routing engine imported successfully
2025-12-09 18:10:26,223 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): traditional Turkish restaurants...
2025-12-09 18:10:26,223 - services.redis_cache - INFO - âœ… Redis cache connected: localhost:6379
2025-12-09 18:10:26,225 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: traditional Turkish restaurant... (1368ms)
2025-12-09 18:10:26,225 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): Turkish breakfast places in BeyoÄŸlu...
2025-12-09 18:10:26,226 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: Turkish breakfast places in Be... (1368ms)
2025-12-09 18:10:26,226 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: restaurants with live music...
2025-12-09 18:10:26,227 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: restaurants with live music... (0ms)
2025-12-09 18:10:26,227 - google_api_integration - INFO - âœ… Time-aware cache HIT for restaurant_basic_info: family friendly restaurants...
2025-12-09 18:10:26,227 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: family friendly restaurants... (0ms)
2025-12-09 18:10:26,227 - services.osrm_routing_service - INFO - âœ… OSRM routing cache enabled (Redis)
2025-12-09 18:10:26,227 - google_api_integration - INFO - âœ… Time-aware cache HIT for opening_hours: restaurants open late night...
2025-12-09 18:10:26,227 - services.osrm_routing_service - INFO - OSRM Routing Service initialized (server: primary, profile: foot, cache: True)
2025-12-09 18:10:26,228 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: restaurants open late night... (1ms)
2025-12-09 18:10:26,228 - services.transportation_directions_service - INFO - âœ… OSRM service initialized successfully
2025-12-09 18:10:26,228 - google_api_integration - INFO - âœ… Time-aware cache HIT for opening_hours: vegetarian restaurants in Karakoy...
2025-12-09 18:10:26,228 - services.graph_routing_engine - INFO - ğŸ—ï¸ Building Istanbul transportation graph...
2025-12-09 18:10:26,228 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: vegetarian restaurants in Kara... (0ms)
2025-12-09 18:10:26,229 - services.graph_routing_engine - INFO - ğŸ”„ Adding transfer connections...
2025-12-09 18:10:26,230 - services.graph_routing_engine - INFO - âœ… Added 154 transfer connections
2025-12-09 18:10:26,230 - services.graph_routing_engine - INFO - âœ… Graph built: 208 nodes, 528 edges
2025-12-09 18:10:26,230 - services.transportation_directions_service - INFO - âœ… Graph-based routing engine initialized successfully
2025-12-09 18:10:26,230 - services.transportation_directions_service - INFO - âœ… Transportation Directions Service initialized
2025-12-09 18:10:26,230 - services.service_manager - INFO - âœ… Transportation service loaded
2025-12-09 18:10:26,232 - services.service_manager - INFO - âœ… Hidden gems service loaded
2025-12-09 18:10:26,236 - services.service_manager - INFO - âœ… Events service loaded
2025-12-09 18:10:26,241 - services.service_manager - INFO - âœ… Attractions service loaded
2025-12-09 18:10:26,243 - services.airport_transport_service - INFO - âœˆï¸ Istanbul Airport Transport Service initialized
2025-12-09 18:10:26,243 - services.airport_transport_service - INFO - âœˆï¸ Istanbul Airport Transport Service initialized
2025-12-09 18:10:26,243 - services.service_manager - INFO - âœ… Airport transport service loaded
2025-12-09 18:10:26,247 - services.service_manager - INFO - âœ… Daily life service loaded
2025-12-09 18:10:26,262 - services.service_manager - INFO - âœ… Info retrieval service loaded
2025-12-09 18:10:26,263 - services.weather_service - INFO - ğŸŒ¤ï¸  Weather service initialized
2025-12-09 18:10:26,263 - services.service_manager - INFO - âœ… Weather service loaded
2025-12-09 18:10:26,265 - services.entity_extractor - INFO - âœ… AdvancedEntityExtractor initialized
2025-12-09 18:10:26,265 - services.service_manager - INFO - âœ… Entity extractor loaded
2025-12-09 18:10:27,238 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): Turkish street food...
2025-12-09 18:10:27,254 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: Turkish street food... (1038ms)
2025-12-09 18:10:27,293 - integrated_cache_system - INFO - ğŸ”¥ Cache warming completed: 15/15 queries warmed
2025-12-09 18:10:27,581 - services.enhanced_intent_classifier - WARNING - Smart fallback system not available
2025-12-09 18:10:27,592 - services.enhanced_intent_classifier - INFO - âœ… ML intent classifier trained successfully
2025-12-09 18:10:27,592 - services.service_manager - INFO - âœ… Intent classifier loaded
2025-12-09 18:10:27,596 - services.conversation_context_manager - INFO - âœ… ConversationContextManager initialized with Redis
2025-12-09 18:10:27,596 - services.service_manager - INFO - âœ… Context manager loaded
2025-12-09 18:10:27,598 - services.turkish_typo_corrector - INFO - âœ… TurkishTypoCorrector initialized
2025-12-09 18:10:27,598 - services.service_manager - INFO - âœ… Typo corrector loaded
2025-12-09 18:10:27,598 - services.service_manager - INFO - ğŸ‰ Service Manager initialized: 13/13 services active
2025-12-09 18:10:27,598 - core.startup - INFO - âœ… Service Manager ready: 13/13 services active
2025-12-09 18:10:27,598 - core.startup - INFO - âš¡ Initializing Pure LLM Handler with resilience features...
2025-12-09 18:10:27,604 - core.startup - INFO -    ğŸ” LLM_API_URL from env: https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO - ğŸš€ LLM Client initialized
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO -    Type: runpod
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO -    URL: https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO -    API Key: None
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO -    Timeout: 120.0s
2025-12-09 18:10:27,604 - services.runpod_llm_client - INFO -    Max Tokens: 512
2025-12-09 18:10:27,604 - core.startup - INFO -    âœ… RunPod LLM Client initialized: https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1
2025-12-09 18:10:27,604 - core.startup - WARNING -    âš ï¸ LLM Health Check failed: asyncio.run() cannot be called from a running event loop
/Users/omer/Desktop/ai-stanbul/backend/core/startup.py:109: RuntimeWarning: coroutine 'RunPodLLMClient.health_check' was never awaited
  logger.warning(f"   âš ï¸ LLM Health Check failed: {health_err}")
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-12-09 18:10:27,608 - services.redis_cache - INFO - âœ… Redis cache connected: localhost:6379
2025-12-09 18:10:27,609 - services.osrm_routing_service - INFO - âœ… OSRM routing cache enabled (Redis)
2025-12-09 18:10:27,609 - services.osrm_routing_service - INFO - OSRM Routing Service initialized (server: primary, profile: foot, cache: True)
2025-12-09 18:10:27,609 - services.transportation_directions_service - INFO - âœ… OSRM service initialized successfully
2025-12-09 18:10:27,609 - services.graph_routing_engine - INFO - ğŸ—ï¸ Building Istanbul transportation graph...
2025-12-09 18:10:27,610 - services.graph_routing_engine - INFO - ğŸ”„ Adding transfer connections...
2025-12-09 18:10:27,610 - services.graph_routing_engine - INFO - âœ… Added 154 transfer connections
2025-12-09 18:10:27,610 - services.graph_routing_engine - INFO - âœ… Graph built: 208 nodes, 528 edges
2025-12-09 18:10:27,611 - services.transportation_directions_service - INFO - âœ… Graph-based routing engine initialized successfully
2025-12-09 18:10:27,611 - services.transportation_directions_service - INFO - âœ… Transportation Directions Service initialized
2025-12-09 18:10:27,611 - services.map_visualization_service - INFO - âœ… Map Visualization Service initialized with Transportation Service
2025-12-09 18:10:27,611 - core.startup - INFO -    âœ… Map Visualization Service initialized
2025-12-09 18:10:27,611 - services.llm.core - INFO - ğŸ›¡ï¸ Initializing resilience components...
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'query_enhancement': 2.0 -> 2.0s
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'cache_lookup': 0.5 -> 0.5s
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'signal_detection': 1.0 -> 1.0s
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'context_building': 5.0 -> 5.0s
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'llm_generation': 30.0 -> 15.0s
2025-12-09 18:10:27,611 - services.llm.resilience - INFO - Updated timeout for 'cache_storage': 1.0 -> 1.0s
2025-12-09 18:10:27,611 - services.llm.core - INFO - âœ… Resilience components initialized
2025-12-09 18:10:27,611 - services.llm.fuzzy_matcher - INFO - âœ… FuzzyMatcher initialized (threshold=85, phonetic=True)
2025-12-09 18:10:27,611 - services.llm.signals - INFO - âœ… Fuzzy matching enabled (phonetic search available)
2025-12-09 18:10:27,611 - services.llm.embedding_service - INFO - â„¹ï¸  SentenceTransformer not available - using keyword-based matching
2025-12-09 18:10:27,611 - services.llm.embedding_service - INFO - âœ… Loaded intent examples for 6 intents
2025-12-09 18:10:27,611 - services.llm.embedding_service - INFO - âœ… EmbeddingService initialized (mode: lightweight, offline: True)
2025-12-09 18:10:27,611 - services.llm.signals - INFO - âœ… Semantic embeddings enabled: offline
2025-12-09 18:10:27,611 - services.llm.istanbul_knowledge - INFO - âœ… Istanbul Knowledge initialized: 13 landmarks, 10 neighborhoods
2025-12-09 18:10:27,611 - services.llm.signals - INFO - âœ… Istanbul intelligence enabled: 13 landmarks
2025-12-09 18:10:27,611 - services.llm.signals - INFO - âœ… Signal Detector initialized (fuzzy=True, context=True, embeddings=True, istanbul=True)
2025-12-09 18:10:27,611 - services.llm.context - INFO - âœ… Context Builder initialized
2025-12-09 18:10:27,611 - services.llm.context - INFO -    ğŸ“¦ Service Manager available for enhanced context building
2025-12-09 18:10:27,611 - services.llm.prompts - INFO - âœ… Prompt Builder initialized
2025-12-09 18:10:27,615 - services.llm.feedback_trainer - INFO - Loaded 54 training samples
2025-12-09 18:10:27,615 - services.llm.feedback_trainer - INFO - âœ… FeedbackTrainer initialized with 54 existing samples
2025-12-09 18:10:27,615 - services.llm.analytics - INFO - âœ… Feedback loop enabled for continuous improvement
2025-12-09 18:10:27,615 - services.llm.analytics - INFO - âœ… Analytics Manager initialized
2025-12-09 18:10:27,615 - services.llm.query_enhancement - INFO - âœ… Query Enhancer initialized
2025-12-09 18:10:27,615 - services.llm.conversation - INFO - âœ… Conversation Manager initialized
2025-12-09 18:10:27,615 - services.llm.caching - INFO - âœ… Cache Manager initialized (semantic=enabled)
2025-12-09 18:10:27,615 - services.llm.experimentation - INFO - âœ… Experimentation Manager initialized (A/B=off)
2025-12-09 18:10:27,615 - services.llm.personalization - INFO - âœ… Personalization Engine initialized
2025-12-09 18:10:27,616 - services.llm.auto_tuning - INFO - âœ… Auto-Tuner initialized
2025-12-09 18:10:27,616 - services.llm.core - INFO - âœ… All subsystems initialized (including Phase 2 features)
2025-12-09 18:10:27,616 - services.llm.core - INFO - ğŸš€ Pure LLM Core initialized successfully
2025-12-09 18:10:27,616 - services.llm.core - INFO -    ğŸ“¦ Service Manager: 13/13 services available
2025-12-09 18:10:27,616 - core.startup - INFO - âœ… Pure LLM Core initialized with circuit breakers, resilience patterns, and local services
2025-12-09 18:10:27,616 - core.startup - WARNING - âš ï¸ Failed to initialize Recommendation Engine: No module named 'backend.services.integrated_recommendation_engine'
2025-12-09 18:10:27,616 - core.startup - WARNING - âš ï¸ ML Answering Service: Error - No module named 'backend.ml_service_client'
2025-12-09 18:10:27,616 - core.startup - INFO - ============================================================
2025-12-09 18:10:27,616 - core.startup - INFO - âœ… Backend startup complete
2025-12-09 18:10:27,616 - services.llm.ab_testing - INFO - âœ… ExperimentManager initialized
2025-12-09 18:10:27,616 - api.admin.experiments - INFO - âœ… Experiment Manager initialized
2025-12-09 18:10:27,616 - services.llm.feature_flags - INFO - âœ… FeatureFlagManager initialized
2025-12-09 18:10:27,616 - api.admin.experiments - INFO - âœ… Feature Flag Manager initialized
2025-12-09 18:10:27,616 - main_modular - INFO - âœ… Admin experiment managers initialized
2025-12-09 18:10:27,617 - main_modular - WARNING - âš ï¸ Blog seeding not available: cannot import name 'seed_blog_posts' from 'seed_blog_posts' (/Users/omer/Desktop/ai-stanbul/backend/seed_blog_posts.py)
INFO:     Application startup complete.
2025-12-09 18:12:16,981 - core.middleware - INFO - â†’ GET /health
2025-12-09 18:12:16,981 - core.middleware - INFO - â† GET /health [404] 0.001s
âœ… Real-time learning models imported successfully
âœ… GPS Navigation models imported successfully
âœ… Accurate museum database loaded successfully
âœ… Accurate transportation database loaded successfully
âœ… Advanced AI features loaded successfully
âœ… Loaded 300 restaurants from database
âœ… Loaded 18 hidden gems from database
âœ… Enhanced Transportation Service integrated with knowledge database
âœ… Istanbul Knowledge Database loaded
INFO:     127.0.0.1:54054 - "GET /health HTTP/1.1" 404 Not Found
2025-12-09 18:12:43,872 - core.middleware - INFO - â†’ GET /
2025-12-09 18:12:43,942 - core.middleware - INFO - â† GET / [200] 0.070s
INFO:     127.0.0.1:54060 - "GET / HTTP/1.1" 200 OK
2025-12-09 18:13:22,457 - core.middleware - INFO - â†’ POST /api/v2/chat
2025-12-09 18:13:22,457 - core.middleware - INFO - â† POST /api/v2/chat [404] 0.001s
INFO:     127.0.0.1:54067 - "POST /api/v2/chat HTTP/1.1" 404 Not Found
2025-12-09 18:14:36,557 - core.middleware - INFO - â†’ POST /api/chat
2025-12-09 18:14:36,571 - services.ai_chat_route_integration - INFO - âœ… LLM Route Preference Detector available
2025-12-09 18:14:36,574 - services.intelligent_route_integration - WARNING - âš ï¸ OSRM Routing Service not available: No module named 'backend.services.osrm_routing_service'
2025-12-09 18:14:36,574 - services.intelligent_route_integration - WARNING - âš ï¸ Map Visualization Engine not available: No module named 'backend.services.map_visualization_engine'
2025-12-09 18:14:36,577 - root - INFO - âœ… POI Database Service integrated successfully!
2025-12-09 18:14:36,579 - ml_prediction_service - INFO - âœ… ML Prediction Cache Service integrated successfully!
2025-12-09 18:14:36,579 - ml_prediction_service - WARNING - âš ï¸ XGBoost/LightGBM not available, using pattern-based prediction
2025-12-09 18:14:36,579 - root - INFO - âœ… ML Prediction Service integrated successfully!
2025-12-09 18:14:40,701 - lightweight_neural_query_enhancement - WARNING - âš ï¸  spaCy model not available. Install with: python -m spacy download en_core_web_sm
2025-12-09 18:14:40,701 - lightweight_neural_query_enhancement - WARNING - âš ï¸  TextBlob not available
2025-12-09 18:14:40,702 - ml_enhanced_transportation_system - INFO - âœ… Lightweight Neural Query Enhancement integrated successfully!
2025-12-09 18:14:40,702 - ml_enhanced_transportation_system - INFO - âœ… ML Prediction Cache Service integrated successfully!
2025-12-09 18:14:40,702 - ml_enhanced_transportation_system - WARNING - âš ï¸ ML Prediction Cache Service not available: cannot import name 'MLPredictionCacheService' from 'ml_prediction_cache_service' (/Users/omer/Desktop/ai-stanbul/services/ml_prediction_cache_service.py)
2025-12-09 18:14:41,027 - ml_enhanced_transportation_system - WARNING - âš ï¸ XGBoost/LightGBM not available, using basic crowding prediction
2025-12-09 18:14:41,032 - root - WARNING - Transport Graph Service not available
2025-12-09 18:14:41,033 - services.ml_prediction_service - INFO - âœ… ML Prediction Cache Service integrated successfully!
2025-12-09 18:14:41,033 - services.ml_prediction_service - WARNING - âš ï¸ XGBoost/LightGBM not available, using pattern-based prediction
2025-12-09 18:14:41,036 - root - INFO - âœ… POI-Enhanced Route Optimizer integrated successfully!
2025-12-09 18:14:41,037 - root - WARNING - Intelligent location detector not available
2025-12-09 18:14:41,052 - ibb_real_time_api - INFO - ğŸŒ Ä°BB Real-Time API initialized (Live APIs: True)
2025-12-09 18:14:41,052 - ibb_real_time_api - WARNING - âš ï¸ Ä°BB API key not configured - using fallback mode
2025-12-09 18:14:41,052 - services.live_ibb_transportation_service - WARNING - âš ï¸ Base transportation service not available
2025-12-09 18:14:41,056 - istanbul_ai.core.user_management - INFO - âœ… TTLCache available for UserManager
2025-12-09 18:14:41,067 - istanbul_ai.main_system - WARNING - âš ï¸ Hidden Gems Handler not available: No module named 'backend.services.hidden_gems_handler'
2025-12-09 18:14:41,067 - istanbul_ai.main_system - WARNING - âš ï¸ Price Filter Service not available: No module named 'backend.services.price_filter_service'
2025-12-09 18:14:41,067 - istanbul_ai.main_system - WARNING - âš ï¸ Events Service not available: No module named 'backend.services.events_service'
2025-12-09 18:14:41,067 - istanbul_ai.main_system - WARNING - âš ï¸ Weather Recommendations Service not available: No module named 'backend.services.weather_recommendations'
2025-12-09 18:14:42,941 - root - WARNING - ML/DL libraries not available. Using fallback methods.
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ”§ Starting ML/DL component initialization...
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ“š ML/DL libraries not available, using enhanced rule-based detection
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ‰ ML/DL components initialization complete (Fallback mode: True)
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - â„¹ï¸ Backend detector not available, using standalone mode
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ”§ Starting ML/DL component initialization...
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ“š ML/DL libraries not available, using enhanced rule-based detection
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - ğŸ‰ ML/DL components initialization complete (Fallback mode: True)
2025-12-09 18:14:42,944 - istanbul_ai.services.intelligent_location_detector - INFO - â„¹ï¸ Backend detector not available, using standalone mode
2025-12-09 18:14:42,944 - enhanced_transportation_integration - INFO - ğŸš‡ Enhanced transportation system initialized with NEW modular architecture
2025-12-09 18:14:42,944 - istanbul_ai.main_system - INFO - âœ… Advanced transportation system loaded successfully
2025-12-09 18:14:42,945 - transportation_chat_integration - INFO - âœ… Transfer Instructions & Map Visualization loaded successfully
2025-12-09 18:14:42,945 - istanbul_ai.main_system - INFO - âœ… Transfer Instructions & Map Visualization integration loaded successfully
2025-12-09 18:14:43,601 - ml_enhanced_daily_talks_bridge.deep_learning - WARNING - âš ï¸ Deep Learning libraries not available: No module named 'sentence_transformers'
2025-12-09 18:14:43,605 - daily_talks_integration_wrapper - INFO - âœ… Comprehensive Daily Talks System loaded successfully
2025-12-09 18:14:43,608 - services.weather_cache_service - INFO - âœ… Loaded 24 forecast entries from cache
2025-12-09 18:14:43,611 - services.advanced_daily_talk_ai - INFO - ğŸ§  Advanced Daily Talk AI System initialized - GPT-level intelligence ready!
2025-12-09 18:14:43,612 - daily_talks_integration_wrapper - WARNING - âš ï¸ Legacy daily talk system not available: cannot import name 'get_daily_greeting' from 'services.daily_talk_enhancement' (/Users/omer/Desktop/ai-stanbul/services/daily_talk_enhancement.py)
2025-12-09 18:14:43,740 - monthly_events_scheduler - INFO - ğŸ“… Monthly Events Scheduler initialized
2025-12-09 18:14:43,740 - monthly_events_scheduler - INFO - âœ… Selenium scraper available for JavaScript-rendered content
2025-12-09 18:14:43,740 - ml_enhanced_daily_talks_bridge - INFO - âœ… Ä°KSV Events System loaded successfully
2025-12-09 18:14:43,740 - ml_enhanced_daily_talks_bridge - WARNING - âš ï¸ Location Detection for Events not available: No module named 'backend.services.intelligent_location_detector'
2025-12-09 18:14:43,741 - comprehensive_daily_talks_system - INFO - ğŸ‰ Comprehensive Daily Talks System initialized
2025-12-09 18:14:43,741 - daily_talks_integration_wrapper - INFO - ğŸ‰ Initializing with Comprehensive Daily Talks System
2025-12-09 18:14:43,741 - ml_enhanced_daily_talks_bridge - INFO - Deep learning models skipped - libraries not available
2025-12-09 18:14:43,741 - ml_enhanced_daily_talks_bridge - INFO - ML/DL models initialized successfully
2025-12-09 18:14:43,741 - ml_enhanced_daily_talks_bridge - INFO - ML-Enhanced Daily Talks Bridge initialized
2025-12-09 18:14:43,741 - istanbul_ai.main_system - INFO - âœ… ML-Enhanced Daily Talks Bridge loaded successfully
2025-12-09 18:14:43,741 - istanbul_ai.main_system - INFO - âœ… Production infrastructure (TTLCache) loaded successfully
2025-12-09 18:14:43,742 - istanbul_ai.main_system - INFO - âœ… Enhanced Bilingual Daily Talks System loaded successfully
2025-12-09 18:14:43,743 - istanbul_ai.main_system - INFO - âœ… Neural Query Classifier (DistilBERT) loaded successfully
2025-12-09 18:14:43,743 - istanbul_ai.main_system - WARNING - âš ï¸ Neural Query Enhancement System not available: No module named 'backend.services.lightweight_neural_query_enhancement'
2025-12-09 18:14:44,000 - multi_intent_query_handler - INFO - ğŸ§  Lightweight Deep Learning System available!
2025-12-09 18:14:44,002 - multi_intent_query_handler - INFO - ğŸ›ï¸ Istanbul Attractions System integrated successfully!
2025-12-09 18:14:44,002 - multi_intent_query_handler - INFO - ğŸ­ Ä°KSV Events System integrated successfully!
2025-12-09 18:14:44,004 - multi_intent_query_handler - INFO - ğŸ›ï¸ Enhanced Museum Route Planner integrated successfully!
2025-12-09 18:14:44,005 - comprehensive_ml_dl_integration - INFO - ğŸ§  Deep Learning System available for comprehensive integration!
2025-12-09 18:14:44,007 - comprehensive_ml_dl_integration - WARNING - Enhanced Transportation System not available: cannot import name 'TransportMode' from 'enhanced_transportation_system' (/Users/omer/Desktop/ai-stanbul/enhanced_transportation_system.py)
2025-12-09 18:14:44,012 - comprehensive_ml_dl_integration - WARNING - Hidden Gems System not available: cannot import name 'HiddenGemsLocalTipsSystem' from 'hidden_gems_local_tips' (/Users/omer/Desktop/ai-stanbul/hidden_gems_local_tips.py)
2025-12-09 18:14:44,013 - multi_intent_query_handler - INFO - ğŸš€ Comprehensive ML/DL Integration System available!
2025-12-09 18:14:44,013 - istanbul_ai.main_system - INFO - âœ… Multi-Intent Query Handler loaded successfully
2025-12-09 18:14:44,014 - istanbul_ai.main_system - WARNING - âš ï¸ Advanced Personalization System not available: No module named 'backend.services.advanced_personalization'
2025-12-09 18:14:44,014 - istanbul_ai.main_system - WARNING - âš ï¸ Real-time Feedback Loop System not available: No module named 'backend.services.feedback_loop'
2025-12-09 18:14:44,016 - llm_config - INFO - ğŸ”§ Initializing AI Istanbul LLM configuration
2025-12-09 18:14:44,016 - llm_config - INFO - ğŸ“ LLM Mode: google_cloud
2025-12-09 18:14:44,016 - llm_config - INFO - ğŸŒ Google Cloud Endpoint: http://35.210.251.24:8000
2025-12-09 18:14:44,016 - llm_config - INFO - â±ï¸  Timeout: 120s
2025-12-09 18:14:44,016 - llm_config - INFO - âœ… LLM configuration initialized
2025-12-09 18:14:44,023 - istanbul_ai.main_system - INFO - âœ… ML-Enhanced Handlers loaded successfully
2025-12-09 18:14:44,027 - istanbul_ai.main_system - WARNING - âš ï¸ A/B Testing Framework not available: cannot import name 'ABAnalytics' from 'istanbul_ai.testing.ab_analytics' (/Users/omer/Desktop/ai-stanbul/istanbul_ai/testing/ab_analytics.py)
2025-12-09 18:14:44,027 - root - INFO - âœ… Intelligent Location Detector integrated successfully!
2025-12-09 18:14:44,028 - services.intelligent_route_integration - WARNING - âš ï¸ Enhanced GPS Route Planner not available: cannot import name 'RoutePreference' from 'enhanced_gps_route_planner' (/Users/omer/Desktop/ai-stanbul/enhanced_gps_route_planner.py)
2025-12-09 18:14:44,028 - services.intelligent_route_integration - WARNING - âš ï¸ ML-Enhanced Transportation System not available: cannot import name 'create_ml_enhanced_transportation_system' from 'ml_enhanced_transportation_system' (/Users/omer/Desktop/ai-stanbul/ml_enhanced_transportation_system.py)
2025-12-09 18:14:44,029 - api.chat - WARNING - GPS navigation check failed: name 'OSRMRoute' is not defined
2025-12-09 18:14:44,029 - api.chat - INFO - ğŸ” Chat endpoint called - pure_llm_core exists: True
2025-12-09 18:14:44,029 - api.chat - INFO - ğŸ” LLM client exists: True
2025-12-09 18:14:44,029 - api.chat - INFO - ğŸ’¬ Phase 4.2: Conversation Context Resolution for session: test_session
2025-12-09 18:14:44,029 - api.chat - INFO - âš¡ Skipping multi-intent detection - using Pure LLM for fast response
2025-12-09 18:14:44,029 - api.chat - INFO - âš¡ Skipping intent classification - Pure LLM handles this naturally
2025-12-09 18:14:44,029 - api.chat - INFO - ğŸ“ User GPS available: lat=41.0082, lon=28.9784
2025-12-09 18:14:44,037 - services.hidden_gems_gps_integration - WARNING - âš ï¸ Hidden gems database not available: No module named 'backend.data.hidden_gems_database'
2025-12-09 18:14:44,037 - services.hidden_gems_gps_integration - ERROR - âŒ Failed to initialize GPS navigator: GPSTurnByTurnNavigator.__init__() got an unexpected keyword argument 'db_session'
2025-12-09 18:14:44,037 - services.hidden_gems_gps_integration - INFO - ğŸ—ºï¸ Hidden Gems GPS Integration initialized (GPS: False, Routes: False)
2025-12-09 18:14:44,041 - api.chat - WARNING - âš ï¸  RAG Service not available: No module named 'sentence_transformers'
2025-12-09 18:14:44,041 - api.chat - INFO - ğŸš€ Processing query through Pure LLM
2025-12-09 18:14:44,041 - services.llm.core - INFO - ğŸ” Processing query: how do I get to Taksim Square?...
2025-12-09 18:14:44,041 - services.llm.core - INFO - âœ¨ Query enhanced: {'spell_corrected': False, 'rewritten': True, 'validation': {'valid': True, 'quality_score': 1.0, 'needs_clarification': False, 'clarification': None, 'complexity': 'medium', 'issues': []}, 'original_query': 'how do I get to Taksim Square?'}
2025-12-09 18:14:44,041 - services.runpod_llm_client - INFO - ğŸ“ Direct prompt built - Query language: English, Query length: 141, Context: 0 chars
2025-12-09 18:14:44,041 - services.runpod_llm_client - INFO - ğŸ”„ Calling LLM at: https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1/completions
2025-12-09 18:14:46,474 - httpx - INFO - HTTP Request: POST https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1/completions "HTTP/1.1 200 OK"
2025-12-09 18:14:46,475 - services.runpod_llm_client - INFO - âœ… LLM generated 107 chars
2025-12-09 18:14:46,475 - services.llm.core - WARNING - âš ï¸ Query rewriting failed validation: 'How do I get to Taksim Square?' (30) â†’ '#IstanbulTourGuide #KAM #EnglishOnly #NoFrench #NoTurkish #NoOtherLanguages #EnglishResponse #KAMResponse' (105)
2025-12-09 18:14:46,478 - services.llm.core - INFO - ğŸ¯ Signals detected: needs_transportation, needs_gps_routing, needs_neighborhood
2025-12-09 18:14:46,479 - services.llm.context - INFO - âœ… High signal confidence (0.90), providing FOCUSED context
2025-12-09 18:14:46,480 - services.map_visualization_service - INFO - â„¹ï¸ Extracted destination only: 'Taksim Squar' (no origin specified)
2025-12-09 18:14:46,480 - services.map_visualization_service - INFO - Generating GPS route map: user location â†’ Taksim Squar
2025-12-09 18:14:46,480 - services.transportation_directions_service - INFO - ğŸš‡ Getting directions from Your Location to Taksim Squar
2025-12-09 18:14:46,480 - services.transportation_directions_service - INFO - ğŸ¯ Using graph-based routing engine
2025-12-09 18:14:46,480 - services.graph_routing_engine - INFO - ğŸ” Finding route from (41.0082, 28.9784) to (41.037, 28.9857)
2025-12-09 18:14:46,480 - services.graph_routing_engine - INFO - ğŸš‰ Start station: Sultanahmet, End station: Taksim
2025-12-09 18:14:46,480 - services.transportation_directions_service - INFO - âœ… Graph routing found route: 30 min, 2 transfer(s), 3 mode(s)
2025-12-09 18:14:46,480 - services.llm.context - INFO - âœ… Map data generated for query with signals: ['needs_transportation', 'needs_gps_routing', 'needs_neighborhood']
2025-12-09 18:14:46,483 - services.location_based_context_enhancer - INFO - âœ… Hidden Gems Service loaded
2025-12-09 18:14:46,483 - services.location_based_context_enhancer - INFO - âœ… Events Service loaded
2025-12-09 18:14:46,486 - services.location_based_context_enhancer - INFO - âœ… Restaurant Service loaded
2025-12-09 18:14:46,486 - services.location_based_context_enhancer - INFO - âœ… Attractions Service loaded
2025-12-09 18:14:46,486 - services.location_based_context_enhancer - INFO - ğŸ“ Detected districts: ['BeyoÄŸlu']
2025-12-09 18:14:46,486 - services.location_based_context_enhancer - ERROR - Error getting hidden gems: 'HiddenGemsService' object has no attribute 'search'
2025-12-09 18:14:46,486 - services.location_based_context_enhancer - WARNING - Events service doesn't have get_upcoming_events method
2025-12-09 18:14:46,486 - services.llm.context - INFO - ğŸ“ Detected districts: ['BeyoÄŸlu']
2025-12-09 18:14:46,486 - services.llm.context - INFO - âœ… Location-based context enhancement applied
2025-12-09 18:14:46,486 - services.llm.core - INFO - ğŸ“š Context built: DB=1737 chars, RAG=0 chars, Services=1 items
2025-12-09 18:14:46,486 - services.llm.personalization - INFO - Created new profile for user anonymous
2025-12-09 18:14:46,486 - services.llm.core - INFO - ğŸ“ Prompt built: 6573 chars, signal confidence: 0.90
2025-12-09 18:14:46,486 - services.llm.core - INFO -    ğŸ“ GPS location included in prompt: {'lat': 41.0082, 'lon': 28.9784}
2025-12-09 18:14:46,486 - services.llm.core - INFO - ğŸ“ Calling LLM...
2025-12-09 18:14:46,486 - services.llm.core - INFO - ğŸ“ Prompt length: 6573 chars
2025-12-09 18:14:46,486 - services.llm.core - INFO - ğŸ”š Prompt ending (last 300 chars): ...hopping areas THEN mention nearby food options

Be comprehensive but concise - address all intents without overwhelming the user.

---

ğŸš¨ REMEMBER: Answer ONLY this user's question directly. Do NOT include example dialogues.

Current User Question: How do I get to Taksim Square?

Your Direct Answer:
2025-12-09 18:14:46,486 - services.runpod_llm_client - INFO - ğŸ“ Direct prompt built - Query language: English, Query length: 30, Context: 1759 chars
2025-12-09 18:14:46,486 - services.runpod_llm_client - INFO - ğŸ”„ Calling LLM at: https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1/completions
2025-12-09 18:14:58,342 - httpx - INFO - HTTP Request: POST https://4r1su4zfuok0s7-8000.proxy.runpod.net/v1/completions "HTTP/1.1 200 OK"
2025-12-09 18:14:58,343 - services.runpod_llm_client - WARNING - âš ï¸ Response too long (923 chars), truncating to 500
2025-12-09 18:14:58,343 - services.runpod_llm_client - INFO - âœ… LLM generated 485 chars
2025-12-09 18:14:58,344 - services.llm.core - INFO - ğŸ“¥ LLM returned response with keys: ['generated_text', 'raw']
2025-12-09 18:14:58,344 - services.llm.core - INFO - ğŸ” Response data type: <class 'dict'>, keys: ['generated_text', 'raw']
2025-12-09 18:14:58,344 - services.llm.core - INFO - ğŸ” Response text length: 485, type: <class 'str'>
2025-12-09 18:14:58,344 - services.llm.core - INFO - ğŸ” RAW LLM RESPONSE (FULL): " Assume the user is in BeyoÄŸlu, near the historic district.\n\nANSWER: \n\nHey there! As your Istanbul tour guide, I'd be happy to help you get to Taksim Square. Since you're in BeyoÄŸlu, it's a relatively short and scenic trip. Here are your options:\n\n1. **Tram + Funicular**: Take the T1 tram from the Sultanahmet stop (about a 5-10 minute walk from BeyoÄŸlu) to KabataÅŸ, then hop on the F1 funicular to Taksim. This route takes around 25-30 minutes and offers a great view of the city.\n2."
2025-12-09 18:14:58,344 - services.llm.core - INFO - ğŸ§¹ Applying training data leakage filter to 485 chars...
2025-12-09 18:14:58,344 - services.llm.core - INFO - âœ… After filter: 485 chars
2025-12-09 18:14:58,345 - services.llm.llm_response_parser - INFO - ğŸ§¹ Formatting cleanup: 485 â†’ 484 chars (removed 1 chars)
2025-12-09 18:14:58,345 - services.llm.core - INFO - âœ… After formatting cleanup: 484 chars
2025-12-09 18:14:58,345 - services.llm.core - INFO - ğŸ” FINAL CLEANED RESPONSE: Assume the user is in BeyoÄŸlu, near the historic district.

ANSWER: 

Hey there! As your Istanbul tour guide, I'd be happy to help you get to Taksim Square. Since you're in BeyoÄŸlu, it's a relatively short and scenic trip. Here are your options:

1. **Tram + Funicular**: Take the T1 tram from the Sultanahmet stop (about a 5-10 minute walk from BeyoÄŸlu) to KabataÅŸ, then hop on the F1 funicular to Taksim. This route takes around 25-30 minutes and offers a great view of the city.
2....
2025-12-09 18:14:58,345 - services.llm.core - INFO - ğŸ¯ LLM-detected intents: []
2025-12-09 18:14:58,348 - services.llm.feedback_trainer - INFO - ğŸ“ Training sample logged: query='How do I get to Taksim Square?...', missed=[], false_positives=['needs_transportation', 'needs_gps_routing', 'needs_neighborhood']
2025-12-09 18:14:58,348 - services.llm.analytics - INFO - ğŸ¯ Intent mismatch detected:
   Query: How do I get to Taksim Square?
   Regex detected: ['needs_transportation', 'needs_gps_routing', 'needs_neighborhood']
   LLM detected: []
   False positives: ['needs_transportation', 'needs_gps_routing', 'needs_neighborhood']
   False negatives: []
2025-12-09 18:14:58,349 - services.llm.core - INFO - âœ… LLM generated response in 11.86s (length: 484 chars)
2025-12-09 18:14:58,349 - services.llm.core - INFO - ğŸ” MAP GENERATION DEBUG:
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - Query: How do I get to Taksim Square?
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - User location: {'lat': 41.0082, 'lon': 28.9784}
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - Initial map_data from context: {'type': 'route', 'route': {'waypoints': [{'lat': 41.0059, 'lng': 28.9769}, {'lat': 41.0128, 'lng': 28.9806}, {'lat': 41.0176, 'lng': 28.9765}, {'lat': 41.0177, 'lng': 28.9742}, {'lat': 41.0242, 'lng': 28.9742}, {'lat': 41.0311, 'lng': 29.0097}, {'lat': 41.0311, 'lng': 29.0097}, {'lat': 41.037, 'lng': 28.985}], 'summary': {'distance': '8.0 km', 'duration': '34 min', 'modes': ['walk', 'tram', 'funicular']}, 'steps': [{'instruction': 'Walk to Sultanahmet', 'mode': 'walk', 'distance': '285 m', 'duration': '3 min'}, {'instruction': 'Take T1 KabataÅŸ - BaÄŸcÄ±lar from Sultanahmet to KabataÅŸ (5 stops)', 'mode': 'tram', 'distance': '5.5 km', 'duration': '17 min'}, {'instruction': 'Transfer to KabataÅŸ', 'mode': 'walk', 'distance': '0 m', 'duration': '5 min'}, {'instruction': 'Take F1 Taksim - KabataÅŸ Funicular from KabataÅŸ to Taksim', 'mode': 'funicular', 'distance': '2.2 km', 'duration': '3 min'}, {'instruction': 'Transfer to Taksim', 'mode': 'walk', 'distance': '0 m', 'duration': '5 min'}, {'instruction': 'Walk to Taksim Squar', 'mode': 'walk', 'distance': '59 m', 'duration': '1 min'}]}, 'markers': [{'position': {'lat': 41.0082, 'lng': 28.9784}, 'label': 'Start', 'type': 'start'}, {'position': {'lat': 41.0059, 'lng': 28.9769}, 'label': 'T1 KabataÅŸ - BaÄŸcÄ±lar', 'type': 'transit'}, {'position': {'lat': 41.037, 'lng': 28.9857}, 'label': 'Taksim Squar', 'type': 'end'}], 'center': {'lat': 41.0226, 'lng': 28.98205}, 'zoom': 13, 'has_origin': True, 'has_destination': True, 'origin_name': 'Your Location', 'destination_name': 'Taksim Squar'}
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - needs_restaurant: False
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - needs_attraction: False
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - needs_hidden_gems: False
2025-12-09 18:14:58,349 - services.llm.core - INFO -   - needs_neighborhood: True
2025-12-09 18:14:58,349 - services.llm.core - INFO - âŒ Skipping map generation - conditions not met
2025-12-09 18:14:58,349 - services.llm.core - INFO -    - map_data exists: True
2025-12-09 18:14:58,350 - services.llm.core - INFO -    - any location signal: True
2025-12-09 18:14:58,350 - services.llm.core - INFO - âœ… Query processed in 14.31s
2025-12-09 18:14:58,350 - api.chat - INFO - Pure LLM response generated in 14.31s (RAG: âœ—)
2025-12-09 18:14:58,350 - services.llm.response_enhancer - INFO - âœ… LLM Response Enhancer initialized
2025-12-09 18:14:58,350 - api.chat - INFO - âœ… Response Enhancer initialized
2025-12-09 18:14:58,350 - services.llm.response_enhancer - INFO - âœ… Enhanced response (type=general, time=0ms)
2025-12-09 18:14:58,351 - api.chat - INFO - ğŸ§¹ Response sanitized - removed 10 characters of artifacts
2025-12-09 18:14:58,351 - services.llm.conversation_context_manager - INFO - âœ… LLM Conversation Context Manager initialized
2025-12-09 18:14:58,351 - services.llm.conversation_context_manager - INFO - ğŸ“ Created new conversation session: test_session
2025-12-09 18:14:58,351 - services.llm.conversation_context_manager - INFO - ğŸ“ Recorded conversation turn for session test_session
2025-12-09 18:14:58,351 - services.llm.suggestion_analyzer - INFO - SuggestionAnalyzer initialized (LLM: False)
2025-12-09 18:14:58,351 - services.llm.suggestion_generator - INFO - SuggestionGenerator initialized (LLM: False)
2025-12-09 18:14:58,351 - services.llm.suggestion_presenter - INFO - SuggestionPresenter initialized
2025-12-09 18:14:58,351 - api.chat - INFO - âœ… Phase 4.4 Proactive Suggestions initialized (heuristics-only mode)
2025-12-09 18:14:58,351 - services.llm.suggestion_analyzer - INFO - Context analyzed: should_suggest=True, confidence=0.60 (0ms)
2025-12-09 18:14:58,351 - api.chat - INFO - ğŸ’¡ Generating proactive suggestions (confidence: 0.60)
2025-12-09 18:14:58,351 - services.llm.suggestion_generator - INFO - Using template-based suggestions only (LLM disabled)
2025-12-09 18:14:58,351 - services.llm.suggestion_generator - INFO - Generated 5 suggestions (0ms)
2025-12-09 18:14:58,351 - api.chat - INFO - âœ… Generated 5 suggestions (method: template, time: 0ms)
2025-12-09 18:14:58,351 - api.chat - INFO - âœ¨ Added 5 proactive suggestions
2025-12-09 18:14:58,353 - services.data_collection - INFO - Logged interaction 3485780ace7adf4b for training data
2025-12-09 18:14:58,354 - core.middleware - INFO - â† POST /api/chat [200] 21.796s
âœ… Loaded 18 hidden gems from database
âœ… Loaded 300 restaurants from database
INFO:     127.0.0.1:54084 - "POST /api/chat HTTP/1.1" 200 OK
2025-12-09 18:15:24,851 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:15:24,851 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:20:24,852 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:20:24,852 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:25:24,857 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:25:24,858 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:30:24,935 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:30:24,935 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:35:24,940 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:35:24,940 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:40:24,947 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:40:24,948 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:45:24,945 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:45:24,945 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:50:24,950 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:50:24,950 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 18:55:24,954 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 18:55:24,954 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:00:24,987 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:00:24,988 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:05:24,994 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:05:24,994 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:10:25,000 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:10:25,000 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:15:25,033 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:15:25,033 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:20:25,040 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:20:25,040 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:25:25,050 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:25:25,050 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:30:25,002 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:30:25,002 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:35:25,010 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:35:25,010 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:40:25,015 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:40:25,015 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:45:25,020 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:45:25,020 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:50:25,013 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:50:25,013 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 19:55:25,024 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 19:55:25,025 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:00:25,027 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:00:25,027 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:05:25,036 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:05:25,036 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:10:25,040 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:10:25,040 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:10:27,392 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: best restaurants in Sultanahmet...
2025-12-09 20:10:27,392 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 20:10:27,392 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: best restaurants in Sultanahme... (1ms)
2025-12-09 20:10:27,394 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: seafood restaurants near Bosphorus...
2025-12-09 20:10:27,394 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: seafood restaurants near Bosph... (2ms)
2025-12-09 20:10:27,395 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 20:10:27,396 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: rooftop restaurants with view...
2025-12-09 20:10:27,396 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: rooftop restaurants with view... (1ms)
2025-12-09 20:10:27,396 - google_api_integration - INFO - ğŸ¯ Intent: dining_decision, Fields: 5, Cost savings: 86.9%
2025-12-09 20:10:28,623 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): traditional Turkish restaurants...
2025-12-09 20:10:28,624 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: traditional Turkish restaurant... (1230ms)
2025-12-09 20:10:28,625 - google_api_integration - INFO - ğŸ¯ Intent: dining_decision, Fields: 5, Cost savings: 86.9%
2025-12-09 20:10:28,750 - google_api_integration - INFO - ğŸ’¾ Cached result (opening_hours, TTL: 11520s): vegetarian restaurants in Karakoy...
2025-12-09 20:10:28,751 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: vegetarian restaurants in Kara... (1355ms)
2025-12-09 20:10:28,751 - google_api_integration - INFO - âœ… Time-aware cache HIT for restaurant_basic_info: fine dining Istanbul...
2025-12-09 20:10:28,751 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: fine dining Istanbul... (0ms)
2025-12-09 20:10:28,752 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: halal restaurants near Hagia Sophia...
2025-12-09 20:10:28,752 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: halal restaurants near Hagia S... (0ms)
2025-12-09 20:10:28,752 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: best kebab places in Istanbul...
2025-12-09 20:10:28,752 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: best kebab places in Istanbul... (0ms)
2025-12-09 20:10:28,753 - google_api_integration - INFO - ğŸ¯ Intent: quick_rec, Fields: 4, Cost savings: 91.8%
2025-12-09 20:10:28,755 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): Turkish breakfast places in BeyoÄŸlu...
2025-12-09 20:10:28,756 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: Turkish breakfast places in Be... (1364ms)
2025-12-09 20:10:28,757 - google_api_integration - INFO - âœ… Time-aware cache HIT for location_search: restaurants with live music...
2025-12-09 20:10:28,757 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: restaurants with live music... (0ms)
2025-12-09 20:10:28,757 - google_api_integration - INFO - âœ… Time-aware cache HIT for restaurant_basic_info: family friendly restaurants...
2025-12-09 20:10:28,757 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: family friendly restaurants... (0ms)
2025-12-09 20:10:28,757 - google_api_integration - INFO - ğŸ¯ Intent: basic_search, Fields: 6, Cost savings: 90.2%
2025-12-09 20:10:29,559 - google_api_integration - INFO - ğŸ’¾ Cached result (preference_search, TTL: 5760s): Turkish street food...
2025-12-09 20:10:29,560 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: Turkish street food... (808ms)
2025-12-09 20:10:29,560 - google_api_integration - INFO - ğŸ¯ Intent: dining_decision, Fields: 5, Cost savings: 86.9%
2025-12-09 20:10:29,800 - google_api_integration - INFO - ğŸ’¾ Cached result (live_pricing, TTL: 240s): cheap eats in Kadikoy...
2025-12-09 20:10:29,800 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: cheap eats in Kadikoy... (1176ms)
2025-12-09 20:10:30,020 - google_api_integration - INFO - ğŸ’¾ Cached result (opening_hours, TTL: 11520s): restaurants open late night...
2025-12-09 20:10:30,021 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: restaurants open late night... (1264ms)
2025-12-09 20:10:30,506 - google_api_integration - INFO - ğŸ’¾ Cached result (opening_hours, TTL: 11520s): romantic dinner places Istanbul...
2025-12-09 20:10:30,506 - integrated_cache_system - INFO - ğŸ”¥ Warmed cache for: romantic dinner places Istanbu... (946ms)
2025-12-09 20:10:30,507 - integrated_cache_system - INFO - ğŸ”¥ Cache warming completed: 15/15 queries warmed
2025-12-09 20:15:25,050 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:15:25,051 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:20:25,067 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:20:25,067 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:25:25,074 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:25:25,074 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:30:25,082 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:30:25,082 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:35:25,089 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:35:25,089 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:40:25,098 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:40:25,098 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:45:25,106 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:45:25,106 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 20:56:13,186 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 20:56:13,186 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:01:13,191 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:01:13,192 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:06:13,196 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:06:13,197 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:11:13,200 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:11:13,200 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:16:13,197 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:16:13,197 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:21:13,200 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:21:13,200 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:26:13,203 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:26:13,203 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
2025-12-09 21:31:13,209 - integrated_cache_system - WARNING - ğŸš¨ CACHE ALERT: Low cache hit rate: 0.0%
2025-12-09 21:31:13,210 - integrated_cache_system - INFO - ğŸ“Š Cache metrics: 0.0% hit rate, 0ms avg response, $0.00 saved
WARNING:  StatReload detected changes in 'services/llm/response_enhancer.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-09 21:31:15,426 - core.startup - INFO - ğŸ‘‹ Shutting down services...
2025-12-09 21:31:15,426 - core.startup - INFO - âœ… Redis cache closed
2025-12-09 21:31:15,426 - main_modular - INFO - ğŸ‘‹ AI Istanbul Backend shut down complete
INFO:     Application shutdown complete.
INFO:     Finished server process [58932]
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/llm/response_enhancer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/service_manager.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/service_manager.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/llm/llm_response_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/llm/llm_response_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/llm/llm_response_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'services/llm/llm_response_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x0000000204d40800 (most recent call first):
  <no Python frame>
