<!DOCTYPE html>
<html>
<head>
    <title>Format Test</title>
</head>
<body>
    <h1>Formatting Test</h1>
    <div id="output"></div>
    
    <script>
        function formatInlineText(text) {
            let result = text;
            
            // Process in order: bold-italic first, then bold, then italic
            
            // 1. Bold italic (***text***)
            result = result.replace(/\*\*\*(.*?)\*\*\*/g, '<strong><em>$1</em></strong>');
            
            // 2. Bold (**text**)
            result = result.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // 3. Italic (*text*) - simple approach
            result = result.replace(/\*([^*]+?)\*/g, '<em>$1</em>');
            
            // 4. Underscore italic (_text_)
            result = result.replace(/_([^_]+?)_/g, '<em>$1</em>');
            
            return result;
        }
        
        const testText = 'This is **bold text** and this is *italic text* and this is ***bold italic*** text.';
        const formatted = formatInlineText(testText);
        
        document.getElementById('output').innerHTML = `
            <p><strong>Input:</strong> ${testText}</p>
            <p><strong>Output:</strong> ${formatted}</p>
            <p><strong>Rendered:</strong> <span>${formatted}</span></p>
        `;
    </script>
</body>
</html>
